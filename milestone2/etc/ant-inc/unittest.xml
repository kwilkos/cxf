<?xml version="1.0"?>
<project name="celtix-unittests" basedir="../..">
    <!-- Targets for running the unittests -->

    <!-- Load the compile targets -->
    <import file="compile.xml"/>
    <import file="./common_test.xml"/>
    <import file="coverage.xml"/>
       
    <target name="unit.test" description="Run the unit tests" depends="src.compile,unittest.compile,unit.test.nodeps"/>
        
        
    <target name="unit.test.resources">
        <mkdir dir="${basedir}/build/classes-tests/unit"/>
        <copy todir="${basedir}/build/classes-tests/unit">
            <fileset dir="${basedir}/test/unit" includes="**/resources/**/*"/>
            <fileset dir="${basedir}/test/unit" includes="**/*.properties"/>
        </copy>
        <copy todir="${basedir}/build/classes-tests/unit">
            <fileset dir="${basedir}/etc/test" includes="logging.properties"/>
        </copy>
    </target>
    
    <target name="unit.test.nodeps" depends="clean.instrumented,unit.test.resources" description="Run the unit tests">
    	<runjunittest type="unit"/>        
    </target>
</project>
